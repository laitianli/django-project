{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% block title %}Qemu虚拟机管理系统{% endblock %}

{% block css %}
<link href="{% static './css/mainpage.css' %}" rel="stylesheet">
<link href="{% static './css/storagepool.css' %}" rel="stylesheet">
<link href="{% static './css/netpool.css' %}" rel="stylesheet">
{% endblock %}
<style>

</style>
{% block content %}
<!-- 标签页导航 -->
<div class="container-fluid mt-3">
    <ul class="nav nav-tabs" id="mainTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="vm-tab" data-bs-toggle="tab" data-bs-target="#vm-pane" type="button"
                role="tab" aria-controls="vm-pane" aria-selected="true">虚拟机</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="version-tab" data-bs-toggle="tab" data-bs-target="#version-pane" type="button"
                role="tab" aria-controls="version-pane" aria-selected="false">版本信息</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="licence-tab" data-bs-toggle="tab" data-bs-target="#licence-pane" type="button"
                role="tab" aria-controls="licence-pane" aria-selected="false">Licence管理</button>
        </li>
    </ul>

    <div class="tab-content" id="mainTabContent">
        <!-- 虚拟机标签页内容 -->
        <div class="tab-pane fade show active" id="vm-pane" role="tabpanel" aria-labelledby="vm-tab">
            <div class="row mt-3">
                <!-- 左侧边栏 -->
                <div class="col-md-3 col-lg-2 sidebar">
                    <div class="list-group" id="vm-sidebar">
                        <a href="#" class="list-group-item list-group-item-action active" data-content="instance">
                            <i class="fas fa-server me-2"></i> 虚机实例
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-content="storage">
                            <i class="fas fa-database me-2"></i> 存储池
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-content="network">
                            <i class="fas fa-network-wired me-2"></i> 网络池
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-content="interface">
                            <i class="fas fa-ethernet me-2"></i> 网络接口
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-content="secrets">
                            <i class="fas fa-key me-2"></i> Secrets
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" data-content="overview">
                            <i class="fas fa-chart-pie me-2"></i> 概览
                        </a>
                    </div>
                </div>

                <!-- 右侧内容区域 -->
                <div class="col-md-9 col-lg-10 main-content">
                    <div id="vm-content">
                        <!-- 虚机实例内容 -->
                        <div class="content-panel" id="instance-panel">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h4 class="text-primary">虚机实例</h4>
                                        <button class="btn btn-success" id="newVmBtn">
                                            <i class="fas fa-plus me-1"></i> 新建虚拟实例
                                        </button>
                                    </div>

                                    <div class="table-responsive">
                                        <table class="table table-hover vm-table">
                                            <thead>
                                                <tr>
                                                    <th>名称</th>
                                                    <th>状态</th>
                                                    <th>VCPUs</th>
                                                    <th>内存</th>
                                                    <th>执行</th>
                                                </tr>
                                            </thead>
                                            <tbody id="vmTableBody">
                                                <tr>
                                                    <!-- <td><a href="#" class="vm-name-link" data-vm-id="vm1">text-vm-centosa</a></td> -->
                                                    <td><a href="#" class="vm-detail-link"
                                                            data-vm-id="vm1">text-vm-centos</a>
                                                    </td>
                                                    <td><span class="badge bg-secondary">已停止</span></td>
                                                    <td>2</td>
                                                    <td>4096MB</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-success action-btn"
                                                            title="启动"><i class="fas fa-play"></i></button>
                                                        <button class="btn btn-sm btn-outline-secondary action-btn"
                                                            title="暂停"><i class="fas fa-pause"></i></button>
                                                        <button class="btn btn-sm btn-outline-info action-btn"
                                                            title="保存"><i class="fas fa-save"></i></button>
                                                        <button class="btn btn-sm btn-outline-warning action-btn"
                                                            title="关机"><i class="fas fa-power-off"></i></button>
                                                        <button class="btn btn-sm btn-outline-danger action-btn"
                                                            title="强制关机"><i class="fas fa-bolt"></i></button>
                                                        <button class="btn btn-sm btn-outline-primary action-btn"
                                                            title="控制台"><i class="fas fa-terminal"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><a href="#" class="vm-detail-link" data-vm-id="vm2">vm1</a></td>
                                                    <td><span class="badge bg-success">运行中</span></td>
                                                    <td>4</td>
                                                    <td>4096MB</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-success action-btn"
                                                            title="启动"><i class="fas fa-play"></i></button>
                                                        <button class="btn btn-sm btn-outline-secondary action-btn"
                                                            title="暂停"><i class="fas fa-pause"></i></button>
                                                        <button class="btn btn-sm btn-outline-info action-btn"
                                                            title="保存"><i class="fas fa-save"></i></button>
                                                        <button class="btn btn-sm btn-outline-warning action-btn"
                                                            title="关机"><i class="fas fa-power-off"></i></button>
                                                        <button class="btn btn-sm btn-outline-danger action-btn"
                                                            title="强制关机"><i class="fas fa-bolt"></i></button>
                                                        <button class="btn btn-sm btn-outline-primary action-btn"
                                                            title="控制台"><i class="fas fa-terminal"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><a href="#" class="vm-detail-link" data-vm-id="vm3">vm2</a></td>
                                                    <td><span class="badge bg-secondary">已停止</span></td>
                                                    <td>2</td>
                                                    <td>4096MB</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-success action-btn"
                                                            title="启动"><i class="fas fa-play"></i></button>
                                                        <button class="btn btn-sm btn-outline-secondary action-btn"
                                                            title="暂停"><i class="fas fa-pause"></i></button>
                                                        <button class="btn btn-sm btn-outline-info action-btn"
                                                            title="保存"><i class="fas fa-save"></i></button>
                                                        <button class="btn btn-sm btn-outline-warning action-btn"
                                                            title="关机"><i class="fas fa-power-off"></i></button>
                                                        <button class="btn btn-sm btn-outline-danger action-btn"
                                                            title="强制关机"><i class="fas fa-bolt"></i></button>
                                                        <button class="btn btn-sm btn-outline-primary action-btn"
                                                            title="控制台"><i class="fas fa-terminal"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><a href="#" class="vm-detail-link"
                                                            data-vm-id="vm4">windows10</a></td>
                                                    <td><span class="badge bg-secondary">已停止</span></td>
                                                    <td>4</td>
                                                    <td>4096MB</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-success action-btn"
                                                            title="启动"><i class="fas fa-play"></i></button>
                                                        <button class="btn btn-sm btn-outline-secondary action-btn"
                                                            title="暂停"><i class="fas fa-pause"></i></button>
                                                        <button class="btn btn-sm btn-outline-info action-btn"
                                                            title="保存"><i class="fas fa-save"></i></button>
                                                        <button class="btn btn-sm btn-outline-warning action-btn"
                                                            title="关机"><i class="fas fa-power-off"></i></button>
                                                        <button class="btn btn-sm btn-outline-danger action-btn"
                                                            title="强制关机"><i class="fas fa-bolt"></i></button>
                                                        <button class="btn btn-sm btn-outline-primary action-btn"
                                                            title="控制台"><i class="fas fa-terminal"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><a href="#" class="vm-detail-link"
                                                            data-vm-id="vm5">vm-ubuntu22.04</a>
                                                        </极td>
                                                    <td><span class="badge bg-success">运行中</span></td>
                                                    <td>4</td>
                                                    <td>8196MB</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-success action-btn"
                                                            title="启动"><i class="fas fa-play"></i></button>
                                                        <button class="btn btn-sm btn-outline-secondary action-btn"
                                                            title="暂停"><i class="fas fa-pause"></i></button>
                                                        <button class="btn btn-sm btn-outline-info action-btn"
                                                            title="保存"><i class="fas fa-save"></i></button>
                                                        <button class="btn btn-sm btn-outline-warning action-btn"
                                                            title="关机"><i class="fas fa-power-off"></i></button>
                                                        <button class="btn btn-sm btn-outline-danger action-btn"
                                                            title="强制关机"><i class="fas fa-bolt"></i></button>
                                                        <button class="btn btn-sm btn-outline-primary action-btn"
                                                            title="控制台"><i class="fas fa-terminal"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 存储池面板 -->
                        <div class="content-panel d-none" id="storage-panel">
                            <div class="card">
                                <div class="card-body">
                                    <!-- 存储池子页面 -->
                                    <div class="content-section" id="storage-main">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4 class="text-primary">存储池管理</h4>
                                            <button class="btn btn-primary" id="createStoragePoolBtn">
                                                <i class="fas fa-plus me-2"></i>新建存储池
                                            </button>
                                        </div>

                                        <div class="row">
                                            <!-- 本地存储池Card -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" id="localStorageCard">
                                                    <div class="card-body">
                                                        <h5 class="card-title">
                                                            <i class="fas fa-hdd me-2"></i>本地存储池
                                                        </h5>
                                                        <p class="card-text">
                                                            存储空间: 256.5 GB / 500 GB<br>
                                                            镜像文件: 12 个
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ISO池Card -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" id="isoPoolCard">
                                                    <div class="card-body">
                                                        <h5 class="card-title">
                                                            <i class="fas fa-compact-disc me-2"></i>ISO池
                                                        </h5>
                                                        <p class="card-text">
                                                            存储空间: 45.2 GB / 100 GB<br>
                                                            ISO文件: 8 个
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 网络存储池Card -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" id="networkStorageCard">
                                                    <div class="card-body">
                                                        <h5 class="card-title">
                                                            <i class="fas fa-network-wired me-2"></i>网络存储池
                                                        </h5>
                                                        <p class="card-text">
                                                            存储空间: 1.2 TB / 2 TB<br>
                                                            镜像文件: 24 个
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- CEPH存储池Card -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" id="cephStorageCard">
                                                    <div class="card-body">
                                                        <h5 class="card-title">
                                                            <i class="fas fa-server me-2"></i>CEPH存储池
                                                        </h5>
                                                        <p class="card-text">
                                                            存储空间: 5 TB / 10 TB<br>
                                                            镜像文件: 36 个
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 本地存储池子页面 (默认隐藏) -->
                                    <div class="content-section d-none" id="local-storage-content">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4><i class="fas fa-hdd me-2"></i>本地存储池</h4>
                                            <button class="btn btn-outline-primary" id="addLocalDirectoryBtn">
                                                <i class="fas fa-folder-plus me-2"></i>添加目录
                                            </button>
                                        </div>

                                        <div class="mb-4">
                                            <h5>默认目录</h5>
                                            <p>/var/lib/libvirt/images</p>
                                            <div class="progress mb-3">
                                                <div class="progress-bar" id="defaultStoragePoolProgress"
                                                    role="progressbar" style="width: 65%;">65%</div>
                                            </div>
                                            <p id="defaultStoragePoolText">已使用: 256.5 GB / 500 GB</p>
                                        </div>

                                        <div class="mb-4">
                                            <h5>自定义目录</h5>
                                            <div class="table-responsive">
                                                <table class="table table-bordered directory-table"
                                                    id="customPoolDirectoryPathTable">
                                                    <thead>
                                                        <tr>
                                                            <th>名称</th>
                                                            <th>目录路径</th>
                                                            <th>使用情况</th>
                                                            <th>镜像数量</th>
                                                            <th>操作</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <!-- 修改为标签页形式的镜像文件列表 -->
                                        <div class="mb-4">
                                            <h5>镜像文件列表</h5>
                                            <ul class="nav nav-tabs" id="imageTabs" role="tablist">
                                                <!-- <li class="nav-item" role="presentation">
                                                    <button class="nav-link active" id="default-images-tab"
                                                        data-bs-toggle="tab" data-bs-target="#default-images"
                                                        type="button" role="tab" aria-controls="default-images"
                                                        aria-selected="true">
                                                        默认目录镜像
                                                    </button>
                                                </li> -->
                                            </ul>

                                            <div class="tab-content sub-tab-content" id="imageDetailTabs">
                                                <!-- <div class="tab-pane fade show active" id="default-images"
                                                    role="tabpanel" aria-labelledby="default-images-tab">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered directory-table">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>镜像文件名</th>
                                                                    <th>大小</th>
                                                                    <th>格式</th>
                                                                    <th>操作</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ISO池子页面 (默认隐藏) -->
                                    <div class="content-section d-none" id="iso-pool-content">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4><i class="fas fa-compact-disc me-2"></i>ISO池</h4>
                                            <!-- 上传状态显示 -->
                                            <div id="uploadStatus" class="mt-3"></div>
                                            <div class="d-flex justify-content-between">
                                                <button class=" btn btn-outline-primary" id="addISODirectoryBtn">
                                                    <i class="fas fa-folder-plus me-2"></i>添加目录
                                                </button>
                                                <button class="btn btn-primary ms-2" id="uploadIsoBtn"
                                                    data-bs-target="#uploadModal">
                                                    <i class="fas fa-upload me-2"></i>上传ISO
                                                </button>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <h5>存储信息</h5>
                                            <p>/var/lib/libvirt/iso</p>
                                            <div class="progress mb-3 ISOprogress">
                                                <div class="progress-bar" id="isoPoolPropress" role="progressbar"
                                                    style="width: 45%;">45%</div>
                                            </div>
                                            <p>已使用: 45.2 GB / 100 GB</p>
                                        </div>
                                        <div class="mb-4">
                                            <h5>自定义ISO目录</h5>
                                            <div class="table-responsive">
                                                <table class="table table-bordered directory-table"
                                                    id="customISOPoolDirectoryPathTable">
                                                    <thead>
                                                        <tr>
                                                            <th>名称</th>
                                                            <th>目录路径</th>
                                                            <th>使用情况</th>
                                                            <th>镜像数量</th>
                                                            <th>操作</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="mb-4">
                                            <h5>镜像文件列表</h5>
                                            <ul class="nav nav-tabs" id="isoImageTabs" role="tablist">
                                                <!-- <li class="nav-item" role="presentation">
                                                    <button class="nav-link active" id="iso-images-tab"
                                                        data-bs-toggle="tab" data-bs-target="#iso-images" type="button"
                                                        role="tab" aria-controls="iso-images" aria-selected="true">
                                                        默认目录镜像
                                                    </button>
                                                </li> -->
                                            </ul>

                                            <div class="tab-content sub-tab-content" id="isoImageDetailTabs">
                                                <div class="tab-pane fade show active" id="iso-images" role="tabpanel"
                                                    aria-labelledby="iso-images-tab">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered directory-table">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>镜像文件名</th>
                                                                    <th>大小</th>
                                                                    <th>格式</th>
                                                                    <th>操作</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- <tr>
                                                                    <td>1</td>
                                                                    <td>CentOS-7-x86_64-DVD-2009.iso</td>
                                                                    <td>4.2 GB</td>
                                                                    <td>ISO</td>
                                                                    <td>
                                                                        <button
                                                                            class="btn btn-sm btn-danger">删除</button>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>2</td>
                                                                    <td>ubuntu-20.04.3-live-server-amd64.iso</td>
                                                                    <td>1.2 GB</td>
                                                                    <td>ISO</td>
                                                                    <td>
                                                                        <button
                                                                            class="btn btn-sm btn-danger">删除</button>
                                                                    </td>
                                                                </tr> -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 网络存储池子页面 (默认隐藏) -->
                                    <div class="content-section d-none" id="network-storage-content">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4><i class="fas fa-network-wired me-2"></i>网络存储池</h4>
                                        </div>

                                        <ul class="nav nav-tabs" id="networkStorageTabs" role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link active" id="nfs-tab" data-bs-toggle="tab"
                                                    data-bs-target="#nfs" type="button" role="tab" aria-controls="nfs"
                                                    aria-selected="true">NFS</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="cifs-tab" data-bs-toggle="tab"
                                                    data-bs-target="#cifs" type="button" role="tab" aria-controls="cifs"
                                                    aria-selected="false">CIFS</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="iscsi-tab" data-bs-toggle="tab"
                                                    data-bs-target="#iscsi" type="button" role="tab"
                                                    aria-controls="iscsi" aria-selected="false">iSCSI</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="glusterfs-tab" data-bs-toggle="tab"
                                                    data-bs-target="#glusterfs" type="button" role="tab"
                                                    aria-controls="glusterfs" aria-selected="false">GlusterFS</button>
                                            </li>
                                        </ul>

                                        <div class="tab-content sub-tab-content" id="networkStorageTabContent">
                                            <div class="tab-pane fade show active" id="nfs" role="tabpanel"
                                                aria-labelledby="nfs-tab">
                                                <div class="mb-4">
                                                    <h5>NFS配置</h5>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">服务器地址</label>
                                                                <input type="text" class="form-control"
                                                                    value="192.168.1.100">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">共享路径</label>
                                                                <input type="text" class="form-control"
                                                                    value="/data/nfs_share">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-primary">保存配置</button>
                                                </div>

                                                <div class="mb-4">
                                                    <h5>镜像文件列表</h5>
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered directory-table">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>镜像文件名</th>
                                                                    <th>大小</th>
                                                                    <th>格式</th>
                                                                    <th>操作</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>1</td>
                                                                    <td>vm1.qcow2</td>
                                                                    <td>30 GB</td>
                                                                    <td>qcow2</td>
                                                                    <td>
                                                                        <button
                                                                            class="btn btn-sm btn-primary me-1">克隆</button>
                                                                        <button
                                                                            class="btn btn-sm btn-danger">删除</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="tab-pane fade" id="cifs" role="tabpanel"
                                                aria-labelledby="cifs-tab">
                                                <div class="mb-4">
                                                    <h5>CIFS配置</h5>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">服务器地址</label>
                                                                <input type="text" class="form-control"
                                                                    value="192.168.1.101">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">共享名称</label>
                                                                <input type="text" class="form-control"
                                                                    value="vm_share">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-primary">保存配置</button>
                                                </div>

                                                <div class="mb-4">
                                                    <h5>镜像文件列表</h5>
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered directory-table">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>镜像文件名</th>
                                                                    <th>大小</th>
                                                                    <th>格式</th>
                                                                    <th>操作</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>1</td>
                                                                    <td>win10.qcow2</td>
                                                                    <td>40 GB</td>
                                                                    <td>qcow2</td>
                                                                    <td>
                                                                        <button
                                                                            class="btn btn-sm btn-primary me-1">克隆</button>
                                                                        <button
                                                                            class="btn btn-sm btn-danger">删除</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="tab-pane fade" id="iscsi" role="tabpanel"
                                                aria-labelledby="iscsi-tab">
                                                <div class="mb-4">
                                                    <h5>iSCSI配置</h5>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">目标地址</label>
                                                                <input type="text" class="form-control"
                                                                    value="192.168.1.102">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">目标名称</label>
                                                                <input type="text" class="form-control"
                                                                    value="iqn.2023-11.vmwm:storage">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-primary">保存配置</button>
                                                </div>

                                                <div class="mb-4">
                                                    <h5>镜像文件列表</h5>
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered directory-table">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>镜像文件名</th>
                                                                    <th>大小</th>
                                                                    <th>格式</th>
                                                                    <th>操作</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>1</td>
                                                                    <td>db_server.qcow2</td>
                                                                    <td>50 GB</td>
                                                                    <td>qcow2</td>
                                                                    <td>
                                                                        <button
                                                                            class="btn btn-sm btn-primary me-1">克隆</button>
                                                                        <button
                                                                            class="btn btn-sm btn-danger">删除</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="tab-pane fade" id="glusterfs" role="tabpanel"
                                                aria-labelledby="glusterfs-tab">
                                                <div class="mb-4">
                                                    <h5>GlusterFS配置</h5>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">服务器地址</label>
                                                                <input type="text" class="form-control"
                                                                    value="192.168.1.103">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">卷名称</label>
                                                                <input type="text" class="form-control"
                                                                    value="vm_volume">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-primary">保存配置</button>
                                                </div>

                                                <div class="mb-4">
                                                    <h5>镜像文件列表</h5>
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered directory-table">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>镜像文件名</th>
                                                                    <th>大小</th>
                                                                    <th>格式</th>
                                                                    <th>操作</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>1</td>
                                                                    <td>cluster_vm.qcow2</td>
                                                                    <td>60 GB</td>
                                                                    <td>qcow2</td>
                                                                    <td>
                                                                        <button
                                                                            class="btn btn-sm btn-primary me-1">克隆</button>
                                                                        <button
                                                                            class="btn btn-sm btn-danger">删除</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- CEPH存储池子页面 (默认隐藏) -->
                                    <div class="content-section d-none" id="ceph-storage-content">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4><i class="fas fa-server me-2"></i>CEPH存储池</h4>
                                        </div>

                                        <div class="mb-4">
                                            <h5>CEPH配置</h5>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Monitors</label>
                                                        <input type="text" class="form-control"
                                                            value="192.168.1.104:6789,192.168.1.105:6789">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">池名称</label>
                                                        <input type="text" class="form-control" value="vm_pool">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">用户名</label>
                                                        <input type="text" class="form-control" value="admin">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">密钥</label>
                                                        <input type="password" class="form-control" value="********">
                                                    </div>
                                                </div>
                                            </div>
                                            <button class="btn btn-primary">保存配置</button>
                                        </div>

                                        <div class="mb-4">
                                            <h5>镜像文件列表</h5>
                                            <div class="table-responsive">
                                                <table class="table table-bordered directory-table">
                                                    <thead>
                                                        <tr>
                                                            <th>ID</th>
                                                            <th>镜像文件名</th>
                                                            <th>大小</th>
                                                            <th>格式</th>
                                                            <th>操作</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>1</td>
                                                            <td>ceph_vm1.qcow2</td>
                                                            <td>80 GB</td>
                                                            <td>qcow2</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-primary me-1">克隆</button>
                                                                <button class="btn btn-sm btn-danger">删除</button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>2</td>
                                                            <td>ceph_vm2.qcow2</td>
                                                            <td>100 GB</td>
                                                            <td>qcow2</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-primary me-1">克隆</button>
                                                                <button class="btn btn-sm btn-danger">删除</button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 网络池面板 -->
                        <div class="content-panel  d-none" id="network-panel">
                            <div class="card">
                                <div class="card-body">
                                    <div class="content-section" id="network-main">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4 class="text-primary">网络池管理</h4>
                                            <button class="btn btn-primary" id="createNetworkPoolBtn">
                                                <i class="fas fa-plus me-2"></i>新建网络池
                                            </button>
                                        </div>
                                        <div class="row">
                                            <!-- NAT网络池卡片 -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" data-type="nat">
                                                    <!-- <div class="card-body"> -->
                                                    <div class="card-header bg-dark-subtle">
                                                        <i class="fas fa-exchange-alt me-2"></i>NAT网络池
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="table-scroll">
                                                            <table class="table table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>网卡名</th>
                                                                        <th>子网信息</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>virbr0</td>
                                                                        <td>192.168.122.0/24</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>virbr1</td>
                                                                        <td>172.16.123.0/24</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <!-- </div> -->
                                                </div>
                                            </div>

                                            <!-- Bridge网络池卡片 -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" data-type="bridge">
                                                    <div class="card-header bg-dark-subtle">
                                                        <i class="fas fa-network-wired me-2"></i>Bridge网络池
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="table-scroll">
                                                            <table class="table table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>网桥名</th>
                                                                        <th>MAC地址</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>bridge0</td>
                                                                        <td>00:10.ab:12:a1:2c</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>bridge1</td>
                                                                        <td>00:20.ab:12:a1:2c</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Macvtap网络池卡片 -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" data-type="host">
                                                    <div class="card-header bg-dark-subtle">
                                                        <i class="fas fa-server me-2"></i>Macvtap网络池
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="table-scroll">
                                                            <table class="table table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>网卡名</th>
                                                                        <th>IP地址</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>enp3s0</td>
                                                                        <td>192.168.10.1</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>enp4s0</td>
                                                                        <td>172.15.88.1</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- OpenVSwitch网络池卡片 -->
                                            <div class="col-md-6 mb-4">
                                                <div class="card storage-card" data-type="ovs">
                                                    <div class="card-header bg-dark-subtle">
                                                        <i class="fas fa-network-wired me-2"></i>OpenVSwitch池
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="table-scroll">
                                                            <table class="table table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>网桥名</th>
                                                                        <th>MAC地址</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>ovs0</td>
                                                                        <td>10:10.ab:12:a1:2c</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>ovs1</td>
                                                                        <td>10:20.ab:12:a1:2c</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 各网络池子页面 -->
                                    <!-- NAT网络池子页面 -->
                                    <div class="content-section d-none" id="nat-content">
                                        <!-- 内容会在JS中动态生成 -->
                                        <div class="sub-page-header mb-4">
                                            <button class="btn btn-secondary back-to-main">
                                                <i class="fas fa-arrow-left me-2"></i>返回
                                            </button>
                                            <h4 class="d-inline-block ms-3">NAT网络池管理</h4>
                                        </div>

                                        <div class="card mb-4">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">新建NAT网络池</h5>
                                            </div>
                                            <div class="card-body">
                                                <form id="natPoolForm">
                                                    <div class="row" id="virNetInfo">
                                                        <div class="col-md-2">
                                                            <div class="mb-3">
                                                                <label for="natInterfaceName"
                                                                    class="form-label">名字</label>
                                                                <input type="text" class="form-control"
                                                                    placeholder="vir1" id="natInterfaceName" required>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <div class="mb-3">
                                                                <label for="natInterface" class="form-label">网卡名</label>
                                                                <input type="text" class="form-control"
                                                                    placeholder="virbr1" id="natInterface" required>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="mb-3">
                                                                <label for="natSubnet" class="form-label">子网信息</label>
                                                                <input type="text" class="form-control" id="natSubnet"
                                                                    placeholder="192.168.1.1/24" required>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <dev class="row">
                                                                <div class="col-md-12">
                                                                    <div class="mb-3">
                                                                        <!-- <label class="form-label">DHCP</label> -->
                                                                        <div class="form-check">
                                                                            <input type="checkbox"
                                                                                class="form-check-input" id="natDHCP">
                                                                            <label class="form-check-label"
                                                                                for="natDHCP">启用DHCP</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12 mb-1">
                                                                    <input type="text" class="form-control d-none"
                                                                        id="dhcpStart" placeholder="192.168.1.2">
                                                                </div>
                                                                <div class="col-md-12 mb-1">
                                                                    <input type="text" class="form-control d-none"
                                                                        id="dhcpEnd" placeholder="192.168.1.254">
                                                                </div>
                                                        </div>

                                                        <div class="col-md-2">
                                                            <dev class="row">
                                                                <div class="col-md-12">
                                                                    <div class="mb-3">
                                                                        <!-- <label class="form-label">是否绑定物理网卡</label> -->
                                                                        <div class="form-check">
                                                                            <input type="checkbox"
                                                                                class="form-check-input" id="natPHYnic">
                                                                            <label class="form-check-label"
                                                                                for="natPHYnic">绑定物理网卡</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12 d-none" id="phyNetInfo">
                                                                    <p>显示所有的物理网卡</p>
                                                                </div>
                                                            </dev>
                                                        </div>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">新建</button>
                                                </form>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">NAT网络池列表</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>名字</th>
                                                                <th>网卡名</th>
                                                                <th>子网信息</th>
                                                                <th>物理网卡</th>
                                                                <th>DHCP</th>
                                                                <th>DHCP范围</th>
                                                                <th>操作</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="natPoolTable">
                                                            <!-- 动态生成的行 -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Bridge网络池子页面 -->
                                    <div class="content-section d-none" id="bridge-content">
                                        <!-- 内容会在JS中动态生成 -->
                                        <div class="sub-page-header mb-4">
                                            <button class="btn btn-secondary back-to-main">
                                                <i class="fas fa-arrow-left me-2"></i>返回
                                            </button>
                                            <h4 class="d-inline-block ms-3">Bridge网络池管理</h4>
                                        </div>

                                        <div class="card mb-4">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">新建Bridge网络池</h5>
                                            </div>
                                            <div class="card-body">
                                                <form id="bridgePoolForm">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="bridgeName" class="form-label">网桥名</label>
                                                                <input type="text" class="form-control" id="bridgeName"
                                                                    required>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="bridgeMAC" class="form-label">MAC地址</label>
                                                                <input type="text" class="form-control" id="bridgeMAC"
                                                                    placeholder="00:00:00:00:00:00" required>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">新建</button>
                                                </form>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">Bridge网络池列表</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>网桥名</th>
                                                                <th>MAC地址</th>
                                                                <th>操作</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="bridgePoolTable">
                                                            <!-- 动态生成的行 -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Macvtap网络池子页面 -->
                                    <div class="content-section d-none" id="host-content">
                                        <!-- 内容会在JS中动态生成 -->
                                        <div class="sub-page-header mb-4">
                                            <button class="btn btn-secondary back-to-main">
                                                <i class="fas fa-arrow-left me-2"></i>返回
                                            </button>
                                            <h4 class="d-inline-block ms-3">Macvtap网络池管理</h4>
                                        </div>

                                        <div class="card mb-4">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">新建Macvtap网络池</h5>
                                            </div>
                                            <div class="card-body">
                                                <form id="hostPoolForm">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="hostInterface"
                                                                    class="form-label">物理网卡</label>
                                                                <select class="form-select" id="hostInterface" required>
                                                                    <option value="">选择物理网卡</option>
                                                                    <option value="enp3s0">enp3s0</option>
                                                                    <option value="enp4s0">enp4s0</option>
                                                                    <option value="eth0">eth0</option>
                                                                    <option value="eth1">eth1</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="hostIP" class="form-label">IP地址</label>
                                                                <input type="text" class="form-control" id="hostIP"
                                                                    placeholder="192.168.1.1" required>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">新建</button>
                                                </form>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">Macvtap网络池列表</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>物理网卡名</th>
                                                                <th>IP地址</th>
                                                                <th>操作</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="hostPoolTable">
                                                            <!-- 动态生成的行 -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- OpenVSwitch网络池子页面 -->
                                    <div class="content-section d-none" id="ovs-content">
                                        <!-- 内容会在JS中动态生成 -->
                                        <div class="sub-page-header mb-4">
                                            <button class="btn btn-secondary back-to-main">
                                                <i class="fas fa-arrow-left me-2"></i>返回
                                            </button>
                                            <h4 class="d-inline-block ms-3">OpenVSwitch网络池管理</h4>
                                        </div>

                                        <div class="card mb-4">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">新建OpenVSwitch网络池</h5>
                                            </div>
                                            <div class="card-body">
                                                <form id="ovsPoolForm">
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="mb-3">
                                                                <label for="ovsName" class="form-label">网桥名</label>
                                                                <input type="text" class="form-control" id="ovsName"
                                                                    required>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="mb-3">
                                                                <label for="ovsMAC" class="form-label">MAC地址</label>
                                                                <input type="text" class="form-control" id="ovsMAC"
                                                                    placeholder="00:00:00:00:00:00" required>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="mb-3">
                                                                <label class="form-label">DPDK</label>
                                                                <div class="form-check">
                                                                    <input type="checkbox" class="form-check-input"
                                                                        id="ovsDPDK">
                                                                    <label class="form-check-label"
                                                                        for="ovsDPDK">启用DPDK</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">新建</button>
                                                </form>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0">OpenVSwitch网络池列表</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>网桥名</th>
                                                                <th>MAC地址</th>
                                                                <th>DPDK</th>
                                                                <th>操作</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="ovsPoolTable">
                                                            <!-- 动态生成的行 -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- 网络接口面板 -->
                        <div class="content-panel  d-none" id="interface-panel">
                            <div class="card">
                                <div class="card-body">
                                    <div class="content-section" id="networkInterface-main">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <h4 class="text-primary">网络接口管理</h4>
                                            <button class="btn btn-primary" id="createNetworkInterfaceBtn">
                                                <i class="fas fa-plus me-2"></i>新建网络接口
                                            </button>
                                        </div>
                                        <div class="row" id="nic-container">
                                            <!-- 物理网卡卡片将通过JavaScript动态生成 -->
                                            <h5>物理网卡卡片将通过JavaScript动态生成</h5>
                                        </div>
                                    </div>
                                    <!-- 网络接口详情页面 -->
                                    <div id="nic-detail-view" class="detail-view">
                                        <div class="d-flex sub-page-header mb-4">
                                            <div class="back-button">
                                                <button class="btn btn-secondary back-to-main">
                                                    <i class="fas fa-arrow-left me-2"></i>返回
                                                </button>
                                            </div>
                                            <h4 class="text-primary d-inline-block ms-4">网络接口详情</h4>
                                        </div>
                                        <div class="card">
                                            <div class="card-header bg-light">
                                                <h5 class="mb-0" id="detail-title">接口详情</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="mb-3">
                                                            <label class="form-label fw-bold">网卡名</label>
                                                            <p id="detail-name"></p>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label class="form-label fw-bold">IPv4地址</label>
                                                            <pre id="detail-ipv4"></pre>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label class="form-label fw-bold">IPv6地址</label>
                                                            <pre id="detail-ipv6"></pre>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="mb-3">
                                                            <label class="form-label fw-bold">MAC地址</label>
                                                            <p id="detail-mac"></p>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label class="form-label fw-bold">网卡类型</label>
                                                            <p id="detail-type">
                                                                </极速模式 (仅适用于深度加速) </div>
                                                            <div class="mb-3">
                                                                <label class="form-label fw-bold">网卡状态</label>
                                                                <p id="detail-status"></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Secrets面板 -->
                        <div class="content-panel  d-none" id="secrets-panel">
                            <div class="card">
                                <div class="card-body">
                                    <div class="page-header">
                                        <h4 class="text-primary">Secrets</h4>
                                    </div>
                                    <div class="card">
                                        <div class="card-body">
                                            <p>这里是Secrets管理内容。您可以管理敏感信息和凭证。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 概览面板 -->
                        <div class="content-panel  d-none" id="overview-panel">
                            <div class="card">
                                <div class="card-body">
                                    <div class="page-header">
                                        <h4 class="text-primary">概览</h4>
                                    </div>
                                    <div class="card">
                                        <div class="card-body">
                                            <p>这里是系统概览内容。您可以查看系统状态和资源使用情况。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 虚拟机详情 -->
                        <div class="content-panel  d-none" id="vm-detail-panel">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h2 class="text-primary">虚拟机详情</h2>
                                <button class="btn btn-outline-secondary" id="backToVmList">
                                    <i class="fas fa-arrow-left me-2"></i>返回列表
                                </button>
                            </div>
                            <!-- 虚拟机基本信息 -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <table class="table table-bordered vm-info-table">
                                        <tr>
                                            <th>名称</th>
                                            <td id="detail-name">test-vm-centos</td>
                                            <th>状态</th>
                                            <td id="detail-status"><span class="badge bg-success">运行中</span></td>
                                        </tr>
                                        <tr>
                                            <th>VCPUs</th>
                                            <td id="detail-vcpus">4</td>
                                            <th>内存</th>
                                            <td id="detail-memory">8192MB</td>
                                        </tr>
                                        <tr>
                                            <th>描述</th>
                                            <td colspan="3">测试用CentOS虚拟机，用于开发环境</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <!-- 主标签页 -->
                            <ul class="nav nav-tabs" id="vmDetailTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary active" id="power-tab" data-bs-toggle="tab"
                                        data-bs-target="#power" type="button" role="tab" aria-controls="power"
                                        aria-selected="true">
                                        <i class="fas fa-power-off me-2"></i>电源
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="console-tab" data-bs-toggle="tab"
                                        data-bs-target="#console" type="button" role="tab" aria-controls="console"
                                        aria-selected="false">
                                        <i class="fas fa-terminal me-2"></i>控制台
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="snapshot-tab" data-bs-toggle="tab"
                                        data-bs-target="#snapshot" type="button" role="tab" aria-controls="snapshot"
                                        aria-selected="false">
                                        <i class="fas fa-camera me-2"></i>快照池
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="stats-tab" data-bs-toggle="tab"
                                        data-bs-target="#stats" type="button" role="tab" aria-controls="stats"
                                        aria-selected="false">
                                        <i class="fas fa-chart-bar me-2"></i>统计
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="settings-tab" data-bs-toggle="tab"
                                        data-bs-target="#settings" type="button" role="tab" aria-controls="settings"
                                        aria-selected="false">
                                        <i class="fas fa-cog me-2"></i>设置
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="migration-tab" data-bs-toggle="tab"
                                        data-bs-target="#migration" type="button" role="tab" aria-controls="migration"
                                        aria-selected="false">
                                        <i class="fas fa-exchange-alt me-2"></i>迁移
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="clone-tab" data-bs-toggle="tab"
                                        data-bs-target="#clone" type="button" role="tab" aria-controls="clone"
                                        aria-selected="false">
                                        <i class="fas fa-clone me-2"></i>克隆
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link text-primary" id="destroy-tab" data-bs-toggle="tab"
                                        data-bs-target="#destroy" type="button" role="tab" aria-controls="destroy"
                                        aria-selected="false">
                                        <i class="fas fa-trash-alt me-2"></i>销毁
                                    </button>
                                </li>
                            </ul>

                            <!-- 八个子标签页面 -->
                            <div class="tab-content" id="vmDetailTabContent">
                                <!-- 电源标签页 -->
                                <div class="tab-pane fade show active" id="power" role="tabpanel"
                                    aria-labelledby="power-tab">
                                    <div class="sub-tab-content">
                                        <!-- <h5>电源管理</h5> -->
                                        <p>您可以在此控制虚拟机的电源状态。当前状态：<span class="badge bg-success">运行中</span></p>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-primary"><i
                                                    class="fas fa-play me-2"></i>开机</button>
                                            <button type="button" class="btn btn-warning"><i
                                                    class="fas fa-pause me-2"></i>暂停</button>
                                            <button type="button" class="btn btn-secondary"><i
                                                    class="fas fa-stop me-2"></i>关机</button>
                                            <button type="button" class="btn btn-danger"><i
                                                    class="fas fa-plug me-2"></i>强制关机</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 控制台标签页 -->
                                <div class="tab-pane fade" id="console" role="tabpanel" aria-labelledby="console-tab">
                                    <div class="sub-tab-content">
                                        <!-- <h5>控制台设置</h5> -->
                                        <div class="mb-3">
                                            <label for="consoleType" class="form-label">控制台类型</label>
                                            <select class="form-select" id="consoleType">
                                                <option value="vnc">VNC</option>
                                                <option value="spice">Spice</option>
                                            </select>
                                        </div>
                                        <p class="text-muted">VNC提供基本的远程桌面功能，Spice提供更好的多媒体支持。</p>
                                        <button type="button" class="btn btn-primary">
                                            <i class="fas fa-save me-2"></i>设置控制台类型
                                        </button>
                                    </div>
                                </div>

                                <!-- 快照池标签页 -->
                                <div class="tab-pane fade" id="snapshot" role="tabpanel" aria-labelledby="snapshot-tab">
                                    <ul class="nav nav-tabs" id="snapshotTabs" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link  text-primary active" id="create-snapshot-tab"
                                                data-bs-toggle="tab" data-bs-target="#create-snapshot" type="button"
                                                role="tab" aria-controls="create-snapshot"
                                                aria-selected="true">创建快照</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link  text-primary" id="restore-snapshot-tab"
                                                data-bs-toggle="tab" data-bs-target="#restore-snapshot" type="button"
                                                role="tab" aria-controls="restore-snapshot"
                                                aria-selected="false">从快照恢复</button>
                                        </li>
                                    </ul>
                                    <div class="tab-content sub-tab-content" id="snapshotTabContent">
                                        <div class="tab-pane fade show active" id="create-snapshot" role="tabpanel"
                                            aria-labelledby="create-snapshot-tab">
                                            <!-- <h5>创建快照</h5> -->
                                            <div class="mb-3">
                                                <label for="snapshotName" class="form-label">快照名称</label>
                                                <input type="text" class="form-control" id="snapshotName"
                                                    placeholder="请输入快照名称">
                                            </div>
                                            <div class="mb-3">
                                                <label for="snapshotDesc" class="form-label">描述</label>
                                                <textarea class="form-control" id="snapshotDesc" rows="3"></textarea>
                                            </div>
                                            <button type="button" class="btn btn-primary">
                                                <i class="fas fa-camera me-2"></i>创建快照
                                            </button>
                                        </div>
                                        <div class="tab-pane fade" id="restore-snapshot" role="tabpanel"
                                            aria-labelledby="restore-snapshot-tab">
                                            <!-- <h5>从快照恢复</h5> -->
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>名称</th>
                                                        <th>创建时间</th>
                                                        <th>描述</th>
                                                        <th>操作</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>snapshot-20231101</td>
                                                        <td>2023-11-01 10:30:25</td>
                                                        <td>系统初始安装完成</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-primary">恢复</button>
                                                            <button class="btn btn-sm btn-danger">删除</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>snapshot-20231015</td>
                                                        <td>2023-10-15 14:20:10</td>
                                                        <td>安装开发环境</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-primary">恢复</button>
                                                            <button class="btn btn-sm btn-danger">删除</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <!-- 统计标签页 -->
                                <div class="tab-pane fade" id="stats" role="tabpanel" aria-labelledby="stats-tab">
                                    <ul class="nav nav-tabs" id="statsTabs" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary active" id="cpu-stats-tab"
                                                data-bs-toggle="tab" data-bs-target="#cpu-stats" type="button"
                                                role="tab" aria-controls="cpu-stats" aria-selected="true">CPU</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="memory-stats-tab"
                                                data-bs-toggle="tab" data-bs-target="#memory-stats" type="button"
                                                role="tab" aria-controls="memory-stats"
                                                aria-selected="false">内存</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="network-stats-tab"
                                                data-bs-toggle="tab" data-bs-target="#network-stats" type="button"
                                                role="tab" aria-controls="network-stats"
                                                aria-selected="false">网卡</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="disk-stats-tab"
                                                data-bs-toggle="tab" data-bs-target="#disk-stats" type="button"
                                                role="tab" aria-controls="disk-stats" aria-selected="false">硬盘</button>
                                        </li>
                                    </ul>
                                    <div class="tab-content sub-tab-content" id="statsTabContent">
                                        <div class="tab-pane fade show active" id="cpu-stats" role="tabpanel"
                                            aria-labelledby="cpu-stats-tab">
                                            <h5>CPU使用率</h5>
                                            <div class="chart-container" id="cpuChart">
                                                <p class="text-center text-muted py-5">CPU使用率图表将在这里显示</p>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="memory-stats" role="tabpanel"
                                            aria-labelledby="memory-stats-tab">
                                            <h5>内存使用率</h5>
                                            <div class="chart-container" id="memoryChart">
                                                <p class="text-center text-muted py-5">内存使用率图表将在这里显示</p>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="network-stats" role="tabpanel"
                                            aria-labelledby="network-stats-tab">
                                            <h5>网卡速率</h5>
                                            <div class="chart-container" id="networkChart">
                                                <p class="text-center text-muted py-5">网卡速率图表将在这里显示</p>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="disk-stats" role="tabpanel"
                                            aria-labelledby="disk-stats-tab">
                                            <h5>硬盘读写速率</h5>
                                            <div class="chart-container" id="diskChart">
                                                <p class="text-center text-muted py-5">硬盘读写速率图表将在这里显示</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 设置标签页 -->
                                <div class="tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab">
                                    <ul class="nav nav-tabs" id="settingsTabs" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary active" id="vcpu-settings-tab"
                                                data-bs-toggle="tab" data-bs-target="#vcpu-settings" type="button"
                                                role="tab" aria-controls="vcpu-settings"
                                                aria-selected="true">VCPU</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="memory-settings-tab"
                                                data-bs-toggle="tab" data-bs-target="#memory-settings" type="button"
                                                role="tab" aria-controls="memory-settings"
                                                aria-selected="false">内存</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="iso-settings-tab"
                                                data-bs-toggle="tab" data-bs-target="#iso-settings" type="button"
                                                role="tab" aria-controls="iso-settings"
                                                aria-selected="false">ISO</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="network-settings-tab"
                                                data-bs-toggle="tab" data-bs-target="#network-settings" type="button"
                                                role="tab" aria-controls="network-settings"
                                                aria-selected="false">网络</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="disk-settings-tab"
                                                data-bs-toggle="tab" data-bs-target="#disk-settings" type="button"
                                                role="tab" aria-controls="disk-settings"
                                                aria-selected="false">硬盘</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="xml-settings-tab"
                                                data-bs-toggle="tab" data-bs-target="#xml-settings" type="button"
                                                role="tab" aria-controls="xml-settings"
                                                aria-selected="false">XML</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link text-primary" id="kernel-log-tab"
                                                data-bs-toggle="tab" data-bs-target="#kernel-log" type="button"
                                                role="tab" aria-controls="kernel-log"
                                                aria-selected="false">内核日志</button>
                                        </li>
                                    </ul>
                                    <div class="tab-content sub-tab-content" id="settingsTabContent">
                                        <div class="tab-pane fade show active" id="vcpu-settings" role="tabpanel"
                                            aria-labelledby="vcpu-settings-tab">
                                            <!-- <h5>VCPU设置</h5> -->
                                            <div class="row  mb-3">
                                                <label for="vcpuCount"
                                                    class="col-md-2 text-end form-lable col-form-label">VCPU数量:</label>
                                                <div class="col-md-4">
                                                    <input type="number" class="form-control" id="vcpuCount" value="4"
                                                        min="1" max="32">
                                                </div>
                                            </div>
                                            <div class="mb-3 row">
                                                <div class="col-md-2 text-end form-lable col-form-label">
                                                    <button type="button" class="btn btn-primary" disabled>
                                                        <i class="fas fa-save me-2"></i>保存设置
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="memory-settings" role="tabpanel"
                                            aria-labelledby="memory-settings-tab">
                                            <!-- <h5>内存设置</h5> -->
                                            <div class="mb-3 row">
                                                <label for="memorySize"
                                                    class="col-md-2 text-end form-lable col-form-label">内存大小(MB)：</label>
                                                <div class="col-md-4">
                                                    <input type="number" class="form-control" id="memorySize"
                                                        value="8192" min="1024" max="131072" step="128">
                                                </div>
                                            </div>
                                            <div class="mb-3 row">
                                                <label for="currMemorySize"
                                                    class="col-md-2 text-end form-lable col-form-label">当前内存大小(MB)：</label>
                                                <div class="col-md-4">
                                                    <input type="number" class="form-control" id="currMemorySize"
                                                        value="4096" min="1024" max="131072" step="128">
                                                </div>
                                            </div>
                                            <div class="mb-3 row">
                                                <div class="col-md-2 text-end form-lable col-form-label">
                                                    <button type="button" class="btn btn-primary" disabled>
                                                        <i class="fas fa-save me-2"></i>保存设置
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="iso-settings" role="tabpanel"
                                            aria-labelledby="iso-settings-tab">
                                            <p class="text-warning">---是否从iso启动？--</p>
                                            <!-- <h5>ISO设置</h5> -->
                                            <div class="mb-3 row">
                                                <label for="isoFile"
                                                    class="col-md-2 text-end form-lable col-form-label">选择ISO文件:</label>
                                                <div class="col-md-4">

                                                    <select class="form-select" id="isoFile">
                                                        <option value="">无</option>
                                                        <option value="centos.iso">CentOS-7-x86_64-DVD-2009.iso</option>
                                                        <option value="ubuntu.iso">ubuntu-22.04-live-server-amd64.iso
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="mb-3 row">
                                                <div class="col-md-2 text-end form-lable col-form-label">
                                                    <button type="button" class="btn btn-primary" disabled>
                                                        <i class="fas fa-save me-2"></i>保存设置
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="network-settings" role="tabpanel"
                                            aria-labelledby="network-settings-tab">
                                            <!-- <h5>网络设置</h5> -->
                                            <div class="mb-3 row">
                                                <label for="networkMode"
                                                    class="col-md-2 text-end form-lable col-form-label">网络模式:</label>
                                                <div class="col-md-4">
                                                    <select class="form-select" id="networkMode">
                                                        <option value="nat">NAT</option>
                                                        <option value="bridge">桥接</option>
                                                        <option value="private">私有网络</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="mb-3 row">
                                                <div class="col-md-2 text-end form-lable col-form-label">
                                                    <button type="button" class="btn btn-primary" disabled>
                                                        <i class="fas fa-save me-2"></i>保存设置
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="disk-settings" role="tabpanel"
                                            aria-labelledby="disk-settings-tab">
                                            <!-- <h5>硬盘设置</h5> -->
                                            <div class="row mb-3">
                                                <label for="diskSize"
                                                    class="col-md-2 text-end form-lable col-form-label">硬盘大小(GB)</label>
                                                <div class="col-md-4">
                                                    <input type="number" class="form-control" id="diskSize" value="100"
                                                        min="10" max="2000" step="5">
                                                </div>
                                            </div>
                                            <div class="mb-3 row">
                                                <div class="col-md-2 text-end form-lable col-form-label">
                                                    <button type="button" class="btn btn-primary" disabled>
                                                        <i class="fas fa-save me-2"></i>保存设置
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="xml-settings" role="tabpanel"
                                            aria-labelledby="xml-settings-tab">
                                            <!-- <h5>XML配置</h5> -->
                                            <div class="mb-3">
                                                <label for="xmlContent" class="form-label">虚拟机XML配置</label>
                                                <textarea class="form-control" id="xmlContent"
                                                    rows="10">xml内容</textarea>
                                            </div>
                                            <button type="button" class="btn btn-primary" disabled>
                                                <i class="fas fa-save me-2"></i>保存配置
                                            </button>
                                        </div>
                                        <div class="tab-pane fade" id="kernel-log" role="tabpanel"
                                            aria-labelledby="kernel-log-tab">
                                            <!-- <h5>内核日志</h5> -->
                                            <pre class="bg-light p-3 rounded"
                                                style="max-height: 400px; overflow: auto;">
[Nov 1 10:30:25] Linux version 5.4.0-135-generic (buildd@lcy02-amd64-029) (gcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)) #152-Ubuntu SMP Wed Nov 23 20:19:22 UTC 2022
[Nov 1 10:30:25] Command line: BOOT_IMAGE=/boot/vmlinuz-5.4.0-135-generic root=UUID=3f8e9a1d-5b9f-4c9d-8a7b-6c3d9f0e1b2a ro quiet splash vt.handoff=7
[Nov 1 10:30:25] KERNEL supported cpus:
[Nov 1 10:30:25]   Intel GenuineIntel
[Nov 1 10:30:25]   AMD AuthenticAMD
[Nov 1 10:30:25]   Hygon HygonGenuine
[Nov 1 10:30:25]   Centaur CentaurHauls
[Nov 1 10:30:25] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[Nov 1 10:30:25] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[Nov 1 10:30:25] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[Nov 1 10:30:25] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[Nov 1 10:30:25] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using 'standard' format.
[Nov 1 10:30:25] BIOS-provided physical RAM map:
[Nov 1 10:30:25] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[Nov 1 10:30:25] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[Nov 1 10:30:25] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[Nov 1 10:30:25] BIOS-e820: [mem 0x0000000000100000-0x000000007ffdffff] usable
[Nov 1 10:30:25] BIOS-e820: [mem 0x000000007ffe0000-0x000000007fffffff] reserved
[Nov 1 10:30:25] BIOS-e820: [mem 0x00000000feffc000-0x00000000feffffff] reserved
[Nov 1 10:30:25] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[Nov 1 10:30:25] NX (Execute Disable) protection: active
[Nov 1 10:30:25] SMBIOS 2.8 present.
[Nov 1 10:30:25] DMI: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.14.0-0-g155821a1990b-prebuilt.qemu.org 04/01/2014
[Nov 1 10:30:25] Hypervisor detected: KVM
[Nov 1 10:30:25] kvm-clock: Using msrs 4b564d01 and 4b564d01
[Nov 1 10:30:25] kvm-clock: cpu 0, msr 2b9d01001, primary cpu clock
[Nov 1 10:30:25] kvm-clock: using sched offset of 1033028866 cycles
[Nov 1 10:30:25] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[Nov 1 10:30:25] tsc: Detected 2593.996 MHz processor
                        </pre>
                                        </div>
                                    </div>
                                </div>

                                <!-- 迁移标签页 -->
                                <div class="tab-pane fade" id="migration" role="tabpanel"
                                    aria-labelledby="migration-tab">
                                    <div class="sub-tab-content">
                                        <!-- <h5>虚拟机迁移</h5> -->
                                        <div class="mb-3">
                                            <label for="migrationTarget" class="form-label">迁移目标地址</label>
                                            <input type="text" class="form-control" id="migrationTarget"
                                                placeholder="例如: qemu+ssh://target-host/system">
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="liveMigration">
                                            <label class="form-check-label" for="liveMigration">Live migration</label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="unsafeMigration">
                                            <label class="form-check-label" for="unsafeMigration">Unsafe
                                                migration</label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="deleteOriginal">
                                            <label class="form-check-label" for="deleteOriginal">Delete original</label>
                                        </div>
                                        <div class="text-end">
                                            <button type="button" class="btn btn-primary">
                                                <i class="fas fa-exchange-alt me-2"></i>迁移
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 克隆标签页 -->
                                <div class="tab-pane fade" id="clone" role="tabpanel" aria-labelledby="clone-tab">
                                    <div class="sub-tab-content">
                                        <!-- <h5>虚拟机克隆</h5> -->
                                        <div class="mb-3">
                                            <label for="cloneName" class="form-label">新虚拟机名称</label>
                                            <input type="text" class="form-control" id="cloneName"
                                                placeholder="请输入新虚拟机名称">
                                        </div>
                                        <div class="mb-3">
                                            <label for="cloneDescription" class="form-label">描述</label>
                                            <textarea class="form-control" id="cloneDescription" rows="3"></textarea>
                                        </div>
                                        <div class="text-end">
                                            <button type="button" class="btn btn-primary">
                                                <i class="fas fa-clone me-2"></i>克隆
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 销毁标签页 -->
                                <div class="tab-pane fade" id="destroy" role="tabpanel" aria-labelledby="destroy-tab">
                                    <div class="sub-tab-content">
                                        <!-- <h5>销毁虚拟机</h5> -->
                                        <div class="alert alert-danger">
                                            <i class="fas fa-exclamation-triangle me-2"></i>
                                            警告：此操作将永久删除虚拟机及其关联的硬盘镜像！
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="confirmDelete">
                                            <label class="form-check-label" for="confirmDelete">确认删除包括硬盘镜像的虚拟机</label>
                                        </div>
                                        <div class="text-end">
                                            <button type="button" class="btn btn-danger" disabled id="deleteButton">
                                                <i class="fas fa-trash-alt me-2"></i>删除
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 版本信息标签页内容 -->
        <div class="tab-pane fade" id="version-pane" role="tabpanel" aria-labelledby="version-tab">
            <div class="card mt-3">
                <div class="card-header">
                    <h5 class="card-title">系统版本信息</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Django服务器信息</h6>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Django版本
                                    <span class="text-muted">4.1.5</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Python版本
                                    <span class="text-muted">3.10.6</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    服务器时间
                                    <span class="text-muted" id="serverTime">2023-11-15 14:30:25</span>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Qemu信息</h6>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Qemu版本
                                    <span class="text-muted">7.2.0</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    KVM版本
                                    <span class="text-muted">6.2.0</span>
                                </li>
                                <li class="极list-group-item d-flex justify-content-between align-items-center">
                                    虚拟化支持
                                    <span class="badge bg-success">已启用</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 软件升级部分 -->
            <div class="card mt-4 upgrade-card">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0">软件升级</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> 当前版本：Qemu虚拟机管理系统 v2.1.0
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h6 class="card-title mb-0">本地升级</h6>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">从本地计算机上传升级包文件</p>
                                    <div class="mb-3">
                                        <label for="upgradeFile" class="form-label">选择升级包</label>
                                        <input class="form-control" type="file" id="upgradeFile">
                                    </div>
                                    <button class="btn btn-primary w-100" id="localUpgradeBtn">
                                        <i class="fas fa-upload me-1"></i> 上传并升级
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h6 class="card-title mb-0">远程升级</h6>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">从远程服务器下载升级包</p>
                                    <div class="mb-3">
                                        <label for="protocolSelect" class="form-label">协议</label>
                                        <select class="form-select" id="protocolSelect">
                                            <option value="http">HTTP</option>
                                            <option value="https">HTTPS</option>
                                            <option value="ftp">FTP</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="serverUrl" class="form-label">服务器地址</label>
                                        <input type="text" class="form-control" id="serverUrl"
                                            placeholder="例如: http://example.com/upgrade.zip">
                                    </div>
                                    <button class="btn btn-success w-100" id="remoteUpgradeBtn">
                                        <i class="fas fa-download me-1"></i> 下载并升级
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 升级进度 -->
                    <div class="card d-none" id="upgradeProgressCard">
                        <div class="card-header">
                            <h6 class="card-title mb-0">升级进度</h6>
                        </div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span>状态:</span>
                                <span class="badge bg-info" id="upgradeStatus">准备中...</span>
                            </div>
                            <div class="progress mb-3">
                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                    style="width: 0%" id="upgradeProgressBar"></div>
                            </div>
                            <div class="text-center" id="upgradeMessage">
                                升级尚未开始
                            </div>
                        </div>
                    </div>

                    <!-- 升级历史 -->
                    <div class="card mt-4">
                        <div class="card-header">
                            <h6 class="card-title mb-0">升级历史</h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>日期</th>
                                            <th>版本</th>
                                            <th>方式</th>
                                            <th>状态</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>2023-10-05 14:22</td>
                                            <td>v2.1.0</td>
                                            <td>本地升级</td>
                                            <td><span class="badge bg-success">成功</span></td>
                                        </tr>
                                        <tr>
                                            <td>2023-08-12 09:45</td>
                                            <td>v2.0.1</td>
                                            <td>HTTP远程升级</td>
                                            <td><span class="badge bg-success">成功</span></td>
                                        </tr>
                                        <tr>
                                            <td>2023-05-20 16:30</td>
                                            <td>v1.9.5</td>
                                            <td>FTP远程升级</td>
                                            <td><span class="badge bg-success">成功</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Licence管理标签页内容 -->
        <div class="tab-pane fade" id="licence-pane" role="tabpanel" aria-labelledby="licence-tab">
            <div class="card mt-3">
                <div class="card-header">
                    <h5 class="card-title">Licence管理</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="极col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6>生成Key</h6>
                                    <div class极="input-group mb-3">
                                        <input type="text" class="form-control" id="licenceKey"
                                            value="QMU-7B92-4C81-9D3E-F6A5" readonly>
                                        <button class="btn btn-outline-secondary" type="button" id="copyKeyBtn">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                        <button class="btn btn-outline-primary" type="button" id="generateKeyBtn">
                                            <i class="fas fa-sync-alt"></i>
                                        </button>
                                    </div>
                                    <button class="btn btn-primary w-100" id="generateLicenceBtn">
                                        <i class="fas fa-download me-1"></i> 生成Licence文件
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6>导入Licence</h6>
                                    <div class="mb-3">
                                        <input class="form-control" type="file" id="licenceFile">
                                    </div>
                                    <button class="btn btn-success w-100" id="importLicenceBtn">
                                        <i class="fas fa-upload me-1"></i> 导入Licence
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h6>当前Licence状态</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span>状态:</span>
                                        <span class="badge bg-success">有效</span>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span>类型:</span>
                                        <span>企业版</span>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span>最大虚拟机数:</span>
                                        <span>50</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span>签发日期:</span>
                                        <span极>2023-01-15</span>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span>到期时间:</span>
                                        <span>2024-01-14</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 添加本地存储池模态对话框 -->
<!-- 添加本地目录模态对话框 -->
<div class="modal fade" id="addDirectoryModal" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addDirectoryModalLabel">添加新存储池</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <!-- <i class="fas fa-times"></i> -->
                </button>
            </div>
            <div class="modal-body">
                <form id="storagePoolForm" method="POST" action="/storagepool/addcustomstoragepooldir/">
                    <div class="mb-3">
                        <label for="poolName" class="form-label">存储池名字:</label>
                        <input type="text" class="form-control" name="customPoolName" id="poolName"
                            placeholder="请输入存储池名称" required>
                    </div>
                    <div class="mb-3">
                        <label for="directoryPath" class="form-label">存储池路径:</label>
                        <input type="text" class="form-control" name="customPoolDirectoryPath" id="directoryPath"
                            placeholder="请输入目录路径，例如：/data/vm_images" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="submit" class="btn btn-primary" id="confirmAddDirectoryBtn">确定</button>
            </div>
        </div>
    </div>
</div>

<!-- 添加ISO目录模态对话框 -->
<div class="modal fade" id="addISODirectoryModal" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addISODirectoryModalLabel">添加新ISO存储池</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <!-- <i class="fas fa-times"></i> -->
                </button>
            </div>
            <div class="modal-body">
                <form id="isoStoragePoolForm">
                    <div class="mb-3">
                        <label for="isoPoolName" class="form-label">存储池名字:</label>
                        <input type="text" class="form-control" name="isoCustomPoolName" id="isoPoolName"
                            placeholder="请输入存储池名称" required>
                    </div>
                    <div class="mb-3">
                        <label for="ISODirectoryPath" class="form-label">存储池路径:</label>
                        <input type="text" class="form-control" name="customISOPoolDirectoryPath" id="ISODirectoryPath"
                            placeholder="请输入目录路径，例如：/data/iso_images" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="submit" class="btn btn-primary" id="confirmAddISODirectoryBtn">确定</button>
            </div>
        </div>
    </div>
</div>

<!-- 上传模态框 -->
<div class="modal fade" id="uploadModal" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="uploadModalLabel">上传ISO文件</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="uploadForm">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="addIsoFile" class="form-label">选择ISO文件：</label>
                        <input type="file" class="form-control" id="addIsoFile" accept=".iso" required>
                    </div>
                    <div class="mb-3">
                        <label for="isoStoragePoolName" class="form-label">上传ISO文件到：</label>
                        <select class="form-control user-defined-form-control" id="isoStoragePoolName">
                            <!-- <option value="/var/lib/libvirt/iso" selected>默认ISO池</option> -->
                            <!-- <option value="/opt/isocustom_1">isocustom_1</option>
                            <option value="/opt/isocustom_2">isocustom_2</option> -->
                        </select>
                    </div>
                </form>

                <!-- 进度条 -->
                <div class="progress mb-3" id="progressContainer" style="display: none;">
                    <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated"
                        role="progressbar" style="width: 0%">0%</div>
                </div>

                <!-- 状态消息 -->
                <div id="modalStatus"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="confirmUpload">确定</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script src="{% static './js/upgrade.js' %}"></script>
<script src="{% static './js/licence.js' %}"></script>
<script src="{% static './js/leftpanel.js' %}"></script>
<script src="{% static './js/storagepool.js' %}"></script>
<script src="{% static './js/interface.js' %}"></script>
<script src="{% static './js/netpool.js' %}"></script>
<script src="{% static './js/vminstance.js' %}"></script>
<script src="{% static './js/mainpage.js' %}"></script>

{% endblock %}